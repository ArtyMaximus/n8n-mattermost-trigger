# @artymaximus/n8n-mattermost-trigger

–≠—Ç–æ —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –Ω–æ–¥—ã-—Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–ª—è n8n, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ [–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ Alexey Gusev](https://www.npmjs.com/package/n8n-nodes-mattermost-trigger), —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º **–Ω–∞–¥—ë–∂–Ω–æ–≥–æ –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** –∏ **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ heartbeat**.

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–≠—Ç–∞ –Ω–æ–¥–∞ –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ [Alexey Gusev](https://github.com/myluffe/n8n-nodes-mattermost-trigger). –ú—ã –¥–æ–±–∞–≤–∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ —É–ª—É—á—à–∏–ª–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff (5—Å ‚Üí 60—Å –º–∞–∫—Å.)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ heartbeat** —Å ping/pong (–∏–Ω—Ç–µ—Ä–≤–∞–ª 30—Å, —Ç–∞–π–º-–∞—É—Ç 10—Å)
- **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±—Ä—ã–≤—ã —Å–µ—Ç–∏, —Ç–∞–π–º-–∞—É—Ç—ã –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- **Production-ready –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** - –Ω–µ —Å–¥–∞—ë—Ç—Å—è –¥–æ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–æ—Ä–∫—Ñ–ª–æ—É
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤** - –Ω–∏–∫–∞–∫–∏—Ö —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–æ—Ä–∫—Ñ–ª–æ—É

## üîß –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –û–±—Ä—ã–≤—ã —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞ Mattermost
- ‚úÖ –¢–∞–π–º-–∞—É—Ç—ã –ø—Ä–æ–∫—Å–∏/–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–≤ –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ –û—à–∏–±–∫–∏ —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è WebSocket
- ‚úÖ –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –°–∏—Å—Ç–µ–º–∞ heartbeat
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç ping –∫–∞–∂–¥—ã–µ **30 —Å–µ–∫—É–Ω–¥**
- –û–∂–∏–¥–∞–µ—Ç pong –≤ —Ç–µ—á–µ–Ω–∏–µ **10 —Å–µ–∫—É–Ω–¥**
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —Ç–∞–π–º-–∞—É—Ç–µ pong
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç "–∑–æ–º–±–∏" —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **1-—è –ø–æ–ø—ã—Ç–∫–∞:** 5 —Å–µ–∫—É–Ω–¥
- **2-—è –ø–æ–ø—ã—Ç–∫–∞:** 10 —Å–µ–∫—É–Ω–¥
- **3-—è –ø–æ–ø—ã—Ç–∫–∞:** 20 —Å–µ–∫—É–Ω–¥
- **4-—è –ø–æ–ø—ã—Ç–∫–∞:** 40 —Å–µ–∫—É–Ω–¥
- **5+ –ø–æ–ø—ã—Ç–∫–∏:** 60 —Å–µ–∫—É–Ω–¥ (—Å –¥–∂–∏—Ç—Ç–µ—Ä–æ–º)
- **–ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ** –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–°–æ–±–µ—Ä–∏—Ç–µ –Ω–æ–¥—É:**
```powershell
cd –ø—É—Ç—å/–∫/n8n-nodes-mattermost-trigger
pnpm install
pnpm run build
npm pack
```

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç Docker:**
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .tgz —Ñ–∞–π–ª –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å–±–æ—Ä–∫–∏ Docker n8n
cp n8n-nodes-mattermost-trigger-*.tgz /–ø—É—Ç—å/–∫/docker/custom-nodes/
```

3. **–û–±–Ω–æ–≤–∏—Ç–µ Dockerfile:**
```dockerfile
# –î–æ–±–∞–≤—å—Ç–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ n8n
USER root
COPY ./custom-nodes/n8n-nodes-mattermost-trigger-*.tgz /opt/custom/nodes/
RUN mkdir -p /opt/custom/extensions/mattermost \
 && cd /opt/custom/extensions/mattermost \
 && npm init -y \
 && npm install --omit=dev /opt/custom/nodes/n8n-nodes-mattermost-trigger-*.tgz \
 && chown -R node:node /opt/custom
ENV N8N_CUSTOM_EXTENSIONS=/opt/custom/extensions/mattermost
USER node
```

4. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
docker compose build --no-cache n8n
docker compose up -d n8n
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install -g pnpm
pnpm install
pnpm run build

# –°–≤—è–∂–∏—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–æ
pnpm link --global

# –í –ø–∞–ø–∫–µ –≤–∞—à–µ–≥–æ n8n
pnpm link n8n-nodes-mattermost-trigger

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ n8n —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏
export N8N_CUSTOM_EXTENSIONS="–ø—É—Ç—å/–∫/n8n-nodes-mattermost-trigger"
n8n start
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
1. –°–æ–∑–¥–∞–π—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ **Mattermost Trigger API**
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Base URL**: `https://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä-mattermost.com`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Token**: –í–∞—à bot token –∏–ª–∏ Personal Access Token

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–¥—ã
1. **Resources**: –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π (Post, Reaction, User –∏ —Ç.–¥.)
2. **Events**: –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
3. **Custom Events**: –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Mattermost
```json
{
  "ServiceSettings": {
    "EnableReliableWebSockets": true
  }
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏/–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
- **NGINX**: `proxy_read_timeout 75s;`
- **HAProxy**: `timeout client 75s; timeout server 75s;`
- **AWS ALB**: Idle timeout ‚â• 60s

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Production –ª–æ–≥–∏ (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é)
```
[MattermostTrigger] Connecting to Mattermost WebSocket... (attempt 1)
[MattermostTrigger] WebSocket connection established
[MattermostTrigger] WebSocket connection closed { code: 1006, reason: '' }
[MattermostTrigger] Scheduling reconnect in 5000ms (attempt 1)
```

### –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `DEBUG_LOGGING = true` –≤ –∫–æ–¥–µ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
```
[MattermostTrigger] Sending heartbeat ping
[MattermostTrigger] Received heartbeat pong
[MattermostTrigger] Processing event: reaction_added
[MattermostTrigger] Received hello event
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é SQL –∑–∞–ø—Ä–æ—Å–æ–≤:
```sql
-- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ–¥–∞–≤–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
SELECT * FROM execution_entity 
WHERE workflowId = '–≤–∞—à-workflow-id' 
AND startedAt > NOW() - INTERVAL 1 HOUR;
```

## üéØ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–æ–±—ã—Ç–∏—è

### –†–µ—Å—É—Ä—Å—ã
- **Team**: —Å–æ–±—ã—Ç–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–∞–º–∏
- **Channel**: –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫–∞–Ω–∞–ª–∞–º–∏
- **Post**: —Å–æ–±—ã—Ç–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
- **Reaction**: —ç–º–æ–¥–∑–∏ —Ä–µ–∞–∫—Ü–∏–∏
- **User**: –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Role**: –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- **Plugin**: –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–ª–∞–≥–∏–Ω–æ–≤
- **Thread**: –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≤–µ—Ç–∫–∞–º–∏
- **SystemEvent**: —Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- `posted` - –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- `reaction_added` / `reaction_removed` - –≠–º–æ–¥–∑–∏ —Ä–µ–∞–∫—Ü–∏–∏
- `user_added` / `user_removed` - –ß–ª–µ–Ω—Å—Ç–≤–æ –≤ –∫–∞–Ω–∞–ª–µ
- `channel_created` / `channel_deleted` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏
- `hello` - –†—É–∫–æ–ø–æ–∂–∞—Ç–∏–µ WebSocket
- `ping` / `pong` - –°–æ–æ–±—â–µ–Ω–∏—è heartbeat

## üîç –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ Base URL –∏ —Ç–æ–∫–µ–Ω–∞
2. **–°–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ `curl https://–≤–∞—à-mattermost/api/v4/users`
3. **–ü—Ä–∞–≤–∏–ª–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç—Ä–∞—Ñ–∏–∫ WebSocket —Ä–∞–∑—Ä–µ—à—ë–Ω
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–π–º-–∞—É—Ç—ã –ø—Ä–æ—Å—Ç–æ—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É WebSocket

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
1. **–§–∏–ª—å—Ç—Ä—É–π—Ç–µ —Å–æ–±—ã—Ç–∏—è**: –í—ã–±–∏—Ä–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã/—Å–æ–±—ã—Ç–∏—è
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ ID –∫–∞–Ω–∞–ª–æ–≤ –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
3. **–û—Ç–∫–ª—é—á–∏—Ç–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–µ—Ä–∂–∏—Ç–µ `DEBUG_LOGGING = false` –≤ production

### –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫
- `1006`: –ê–Ω–æ–º–∞–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ (–ø—Ä–æ–±–ª–µ–º–∞ —Å–µ—Ç–∏)
- `1000`: –ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ
- `1001`: –£—Ö–æ–¥–∏—Ç (–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞)
- `1011`: –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –Ω–æ–¥—ã

1. **–°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –≤–æ—Ä–∫—Ñ–ª–æ—É** –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –Ω–æ–¥—É
2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —É–ª—É—á—à–µ–Ω–Ω—É—é –Ω–æ–¥—É** —Å–ª–µ–¥—É—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
3. **–û–±–Ω–æ–≤–∏—Ç–µ –≤–æ—Ä–∫—Ñ–ª–æ—É**: –ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Ç—Ä–∏–≥–≥–µ—Ä –Ω–∞ –Ω–æ–≤—ã–π
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–µ –∂–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –∏ —Ñ–∏–ª—å—Ç—Ä—ã —Å–æ–±—ã—Ç–∏–π
5. **–¢—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º –≤ production

## üìà –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

**v0.2.0** - –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–∞–¥—ë–∂–Ω–æ–µ –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ heartbeat (ping/pong)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º-–∞—É—Ç–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (30—Å)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ authentication challenge
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã –æ–ø—Ü–∏–∏ WebSocket –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ Production-ready –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∂–∏–º–æ–º –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- ‚úÖ –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –î–∂–∏—Ç—Ç–µ—Ä –≤ backoff –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è thundering herd

**v0.1.0** - –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- –ë–∞–∑–æ–≤–æ–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –ø–æ —Ä–µ—Å—É—Ä—Å–∞–º/—Ç–∏–ø–∞–º
- –ë–µ–∑ –∞–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. –°–¥–µ–ª–∞–π—Ç–µ fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ pull request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. LICENSE.md –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π

## üîó –†–µ—Å—É—Ä—Å—ã

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –Ω–æ–¥–∞–º n8n](https://docs.n8n.io/integrations/#community-nodes)
- [–°–æ–±—ã—Ç–∏—è WebSocket Mattermost](https://developers.mattermost.com/api-documentation/#/#websocket-events)
- [Bot –∞–∫–∫–∞—É–Ω—Ç—ã Mattermost](https://developers.mattermost.com/integrate/reference/bot-accounts/)
- [Personal Access Tokens](https://developers.mattermost.com/integrate/reference/personal-access-token/)

## üí° –°–æ–≤–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **bot —Ç–æ–∫–µ–Ω—ã** –¥–ª—è production (–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ —á–µ–º PAT)
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å–µ—Ç–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–±–æ–µ–≤
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–æ–¥ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –±–ª–æ–∫–∏—Ä—É—è —Å–µ—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤
–í —Ñ–∞–π–ª–µ `MattermostTrigger.node.ts` –∏–∑–º–µ–Ω–∏—Ç–µ:
```typescript
const DEBUG_LOGGING = true; // –í–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f n8n-container | grep "MattermostTrigger"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
docker exec n8n-container sh -c 'netstat -an | grep :443'
```